import{h as e,b as z}from"./index-CuLL_66A.js";function h(g,s={}){const o=e([]),i=e(!1),n=e(0),u=e(1),v=e(20),c=e({}),d=e(s),t=e(s),f=async a=>{a.page&&(u.value=a.page),a.pageSize&&(v.value=a.pageSize),i.value=!0,await g({page:u.value,pageSize:v.value,...a}).then(l=>{o.value=l.data.data.list,n.value=l.data.data.total,c.value=l.data.data}).finally(()=>{i.value=!1})},p=async(a,l=!1)=>{u.value=1,l?(o.value=[],t.value={...d.value,...a}):t.value={...t.value,...a},await f({...t.value})},r=a=>{t.value={...t.value,...a}};return z(()=>{f(s)}),{list:o,loading:i,refresh:p,total:n,result:c,page:u,pageSize:v,setParams:r}}export{h as u};
