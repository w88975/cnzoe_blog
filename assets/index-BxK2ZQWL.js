import{h as v,j as D,s as P,b as I,o,c as a,p as O,G as H,a as e,y as k,F as C,i as U,n as q,t as M,k as G,g as A,d as T,w as j,E as J,l as K,e as V,x as F,H as W,_ as R,T as Q,J as Z,q as B,f as X,N as Y,K as ee}from"./index-DEUdRr3f.js";import{g as te}from"./db-2gEbQ0ch.js";import{O as E,s as se,a as le}from"./config-DvNswRus.js";import{u as oe}from"./useList-elaUUZq1.js";const ae={class:"relative w-full max-w-2xl mx-auto"},ne={key:0,class:"absolute right-2 bottom-2"},re={key:1,class:"tag-selector mt-2 p-2 border rounded-lg shadow-sm bg-white"},ie=["onClick"],ue={__name:"TagInput",setup(f,{expose:x}){const p=v(null),g=v(!1),w=v([]),c=v(""),u=v(!1),n=v(0),r=v(""),i=async l=>{u.value=!0;try{const t=await te({tableName:"tags"}),d=t.data.data.list.map($=>$.value);return console.log(t.data.data.list),d.filter($=>$.toLowerCase().startsWith(l.toLowerCase()))}finally{u.value=!1}},s=D(()=>w.value.filter(l=>l.toLowerCase().startsWith(r.value.toLowerCase()))),b=l=>{const t=[],d=/(^|\s)#(\S{2,})(?=\s|$)/g;let $;for(;($=d.exec(l))!==null;)t.push($[2]);return t},h=async()=>{const l=p.value.selectionStart,d=c.value.slice(0,l).match(/#(\w*)$/);d?(r.value=d[1],g.value=!0,w.value=await i(r.value),n.value=0):g.value=!1},L=l=>{if(g.value)switch(l.key){case"ArrowDown":l.preventDefault(),n.value=(n.value+1)%s.value.length;break;case"ArrowUp":l.preventDefault(),n.value=(n.value-1+s.value.length)%s.value.length;break;case"Enter":l.preventDefault(),s.value.length>0&&S(s.value[n.value]);break;case"Escape":g.value=!1;break}},S=l=>{const t=p.value.selectionStart,d=c.value.slice(0,t).replace(/#\w*$/,""),$=c.value.slice(t);c.value=`${d}#${l} ${$}`,g.value=!1,G(()=>{const z=d.length+l.length+2;p.value.setSelectionRange(z,z),p.value.focus()}),n.value=0,r.value=""};return x({insertText:l=>{p.value.selectionStart},exportData:()=>{const l=c.value,t=b(l);return{text:l,tags:t}},clear:()=>{c.value="",g.value=!1,w.value=[],n.value=0}}),P(s,l=>{l.length>0&&(n.value=0)}),I(()=>{p.value.focus()}),(l,t)=>(o(),a("div",ae,[O(e("textarea",{ref_key:"inputRef",ref:p,placeholder:"分享你的想法...",class:"rich-input w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-300 resize-none text-sm sm:text-base",onInput:h,onKeydown:L,"onUpdate:modelValue":t[0]||(t[0]=d=>c.value=d),rows:"4"},null,544),[[H,c.value]]),u.value?(o(),a("div",ne,t[1]||(t[1]=[e("svg",{class:"animate-spin h-5 w-5 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):k("",!0),g.value&&s.value.length>0?(o(),a("div",re,[(o(!0),a(C,null,U(s.value,(d,$)=>(o(),a("div",{key:d,class:q(["cursor-pointer p-2 rounded transition-colors duration-200 text-sm sm:text-base",$===n.value?"bg-blue-100":"hover:bg-gray-100"]),onClick:z=>S(d)},M(d),11,ie))),128))])):k("",!0)]))}},de={class:"relative"},ce={key:0,class:"absolute bottom-full left-0 mb-2 bg-white rounded-lg shadow-lg p-4 w-64"},ve={class:"grid grid-cols-6 gap-2"},pe=["onClick"],ge={__name:"EmojiPicker",emits:["select"],setup(f,{emit:x}){const p=v(!1),g=["😀","😂","😍","🥳","😎","🤔","😊","👍","🎉","🌟","💖","🔥","👀","🙌","💯","🤩"],w=()=>{p.value=!p.value},c=n=>{u("select",n),p.value=!1},u=x;return(n,r)=>(o(),a("div",de,[e("button",{onClick:w,class:"text-blue-500 hover:bg-blue-100 p-2 rounded-full"},r[0]||(r[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])),p.value?(o(),a("div",ce,[e("div",ve,[(o(),a(C,null,U(g,i=>e("button",{key:i,onClick:s=>c(i),class:"text-2xl hover:bg-gray-100 p-2 rounded"},M(i),9,pe)),64))])])):k("",!0)]))}},me={class:"w-full max-w-md mx-auto"},fe={class:"mb-4"},we={for:"file-upload",class:"flex justify-center items-center w-full h-32 px-4 transition bg-white border-2 border-gray-300 border-dashed rounded-md appearance-none cursor-pointer hover:border-gray-400 focus:outline-none"},he={class:"flex items-center space-x-2"},ye={class:"font-medium text-gray-600"},xe=["accept"],be={key:0,class:"mb-4"},_e={class:"w-full bg-gray-200 rounded-full h-2.5"},ke={key:1,class:"space-y-2"},$e={class:"text-sm truncate"},Ce=["onClick"],N={__name:"UploadContent",props:{type:{type:String,default:"image",validator:f=>["image","video"].includes(f)}},emits:["complete"],setup(f,{expose:x,emit:p}){const g=f,w=p,c=v(!1),u=v([]),n=v(0),r=D(()=>g.type==="video"?"video/*":"image/*"),i=y=>{const m=Array.from(y.target.files);u.value=[...u.value,...m.map(_=>({file:_,preview:URL.createObjectURL(_),progress:0}))]},s=y=>{URL.revokeObjectURL(u.value[y].preview),u.value.splice(y,1),L()},b=async()=>{c.value=!0;const y=u.value.map((m,_)=>m.progress===0?h(_):Promise.resolve());await Promise.all(y),console.log("upload complete"),c.value=!1,w("complete",u.value.map(m=>E+m.url),g.type)},h=y=>new Promise((m,_)=>{const l=u.value[y].file;K(l,t=>{u.value[y].progress=parseFloat(t.progress),L()},"/SNS").then(t=>(u.value[y].progress=100,u.value[y].url=t.url,L(),console.log(`File uploaded: ${t.url}`),se({url:t.url,dir:"/SNS",fileSize:t.fileSize,type:l.type,name:l.name}))).then(t=>{console.log(`Upload data saved: ${t.id}`),m(t)}).catch(t=>{console.error(`Upload failed for file ${l.name}:`,t),_(t)})}),L=()=>{const y=u.value.reduce((m,_)=>m+_.progress,0);n.value=u.value.length>0?y/u.value.length:0};return x({doUpload:()=>{b()}}),(y,m)=>{const _=A("a-spin");return o(),T(_,{class:"w-full",loading:c.value},{default:j(()=>[e("div",me,[e("div",fe,[e("label",we,[e("span",he,[m[0]||(m[0]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),e("span",ye,M(f.type==="video"?"上传视频":"上传图片"),1)]),e("input",{id:"file-upload",type:"file",accept:r.value,class:"hidden",multiple:"",onChange:i},null,40,xe)])]),u.value.length>0?(o(),a("div",be,[m[1]||(m[1]=e("div",{class:"text-sm font-medium text-gray-700 mb-2"},"上传进度",-1)),e("div",_e,[e("div",{class:"bg-blue-600 h-2.5 rounded-full",style:J({width:`${n.value}%`})},null,4)])])):k("",!0),u.value.length>0?(o(),a("div",ke,[(o(!0),a(C,null,U(u.value,(l,t)=>(o(),a("div",{key:t,class:"flex items-center justify-between p-2 bg-gray-100 rounded-md"},[e("span",$e,M(l.file.name),1),e("button",{onClick:d=>s(t),class:"text-red-500 hover:text-red-700"},m[2]||(m[2]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),8,Ce)]))),128))])):k("",!0)])]),_:1},8,["loading"])}}},Se={key:0,class:"mt-4"},Me={class:"relative bg-gray-100 aspect-square border border-gray-200 rounded-md overflow-hidden group cursor-move"},Le=["src"],Ve=["src"],Ue={class:"absolute top-1 left-1 bg-black bg-opacity-50 rounded-full p-1"},je={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor"},ze={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 text-white",viewBox:"0 0 20 20",fill:"currentColor"},De={class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},Te={__name:"UploadedPreview",props:{files:{type:Array,required:!1,default:()=>[{url:"https://oss.cnzoe.com/SNS/127_1012_1729438451620.png",type:"image"},{url:"https://oss.cnzoe.com/SNS/127_6727_1729438451621.png",type:"image"},{url:"https://oss.cnzoe.com/SNS/127_7102_1729438451621.png",type:"image"}]}},emits:["update:files"],setup(f,{emit:x}){v(!1);const p=f,g=x,w=v(!1),c=v(null),u=D({get:()=>p.files,set:i=>g("update:files",i)}),n=()=>{const i=[...u.value];i.splice(c.value,1),g("update:files",i),w.value=!1},r=i=>{c.value=i,w.value=!0};return(i,s)=>{const b=A("NvaModal");return o(),a(C,null,[f.files.length>0?(o(),a("div",Se,[s[6]||(s[6]=e("h3",{class:"text-sm font-semibold text-gray-700 mb-2"},"Uploaded Content:",-1)),V(F(W),{modelValue:u.value,"onUpdate:modelValue":s[1]||(s[1]=h=>u.value=h),class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2","item-key":"url"},{item:j(({element:h})=>[e("div",Me,[h.type==="image"?(o(),a("img",{key:0,src:h.url,alt:"Uploaded image",class:"w-full h-full object-contain"},null,8,Le)):h.type==="video"?(o(),a("video",{key:1,src:h.url,class:"w-full h-full object-contain"},null,8,Ve)):k("",!0),e("div",Ue,[h.type==="image"?(o(),a("svg",je,s[3]||(s[3]=[e("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"},null,-1)]))):h.type==="video"?(o(),a("svg",ze,s[4]||(s[4]=[e("path",{d:"M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"},null,-1)]))):k("",!0)]),e("div",De,[e("button",{onClick:s[0]||(s[0]=L=>r(i.index)),class:"text-white hover:text-red-500 focus:outline-none"},s[5]||(s[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]))])])]),_:1},8,["modelValue"])])):k("",!0),V(b,{modelValue:w.value,"onUpdate:modelValue":s[2]||(s[2]=h=>w.value=h),title:"Delete Post",onOk:n},{default:j(()=>s[7]||(s[7]=[e("p",null,"Are you sure you want to delete this post?",-1)])),_:1},8,["modelValue"])],64)}}},Be={class:"bg-white rounded-lg shadow overflow-hidden relative"},Ne=["onClick"],Pe={class:"p-4"},Ae={class:"text-gray-800 text-base mb-4 whitespace-pre-line leading-relaxed font-sans"},Fe={key:0,class:"grid grid-cols-3 gap-2 mb-4"},Re={key:0,class:"aspect-w-1 aspect-h-1"},Ee=["src","alt"],Ie=["src"],Oe={key:1,class:"aspect-w-1 aspect-h-1 relative"},He=["src","alt"],qe=["src"],Ge={class:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center rounded"},Je={class:"text-white text-xl font-bold"},Ke={class:"flex items-center justify-between text-sm text-gray-500"},We={key:0,class:"flex items-center space-x-2"},Qe={class:"flex items-center justify-between mt-4 pt-4 border-t"},Ze={class:"flex items-center space-x-2 text-gray-500 hover:text-red-500"},Xe={key:1,class:"space-y-6 mb-4"},Ye={class:"p-4"},et={class:"grid grid-cols-3 gap-2 mb-4"},tt={__name:"SNSList",props:{posts:{type:Array,required:!0}},emits:["delete"],setup(f,{emit:x}){const p=f,g=x;P(()=>p.posts,(n,r)=>{n.length>r.length&&console.log("New post(s) added")},{deep:!0});const w=D(()=>p.posts.map(n=>{const r=n.images.split(",").map(s=>({type:"image",url:s})),i=n.videos.split(",").map(s=>({type:"video",url:s}));return{...n,medias:[...r,...i].filter(s=>s.url.trim()!=="")}})),c=n=>n.replace(E,le),u=n=>{g("delete",n)};return(n,r)=>w.value.length>0?(o(),T(Q,{key:0,name:"post-list",tag:"div",class:"space-y-6 mb-4"},{default:j(()=>[(o(!0),a(C,null,U(w.value,i=>(o(),a("div",{key:i.id,class:"post-item"},[e("div",Be,[e("button",{onClick:s=>u(i.id),class:"absolute top-2 right-2 text-gray-500 hover:text-red-500"},r[0]||(r[0]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),8,Ne),e("div",Pe,[e("p",Ae,M(i.text),1),i.medias.length>0?(o(),a("div",Fe,[(o(!0),a(C,null,U(i.medias.slice(0,9),(s,b)=>(o(),a(C,{key:b},[b<8||i.medias.length<=9?(o(),a("div",Re,[s.type==="image"?(o(),a("img",{key:0,src:c(s.url),alt:`Post image ${b+1}`,class:"w-full h-full object-cover rounded"},null,8,Ee)):s.type==="video"?(o(),a("video",{key:1,src:s.url,class:"w-full h-full object-cover rounded",controls:""},null,8,Ie)):k("",!0)])):(o(),a("div",Oe,[s.type==="image"?(o(),a("img",{key:0,src:c(s.url),alt:`Post image ${b+1}`,class:"w-full h-full object-cover rounded"},null,8,He)):s.type==="video"?(o(),a("video",{key:1,src:s.url,class:"w-full h-full object-cover rounded"},null,8,qe)):k("",!0),e("div",Ge,[e("span",Je,"+"+M(i.medias.length-8),1)])]))],64))),128))])):k("",!0),e("div",Ke,[e("span",null,M(new Date(i.create_at).toLocaleString()),1),i.tags?(o(),a("div",We,[(o(!0),a(C,null,U(i.tags.split(","),s=>(o(),a("span",{key:s},"#"+M(s),1))),128))])):k("",!0)]),e("div",Qe,[r[2]||(r[2]=e("button",{class:"flex items-center space-x-2 text-gray-500 hover:text-blue-500"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})]),e("span",null,"0 Comments")],-1)),e("button",Ze,[r[1]||(r[1]=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})],-1)),e("span",null,M(i.likes)+" Likes",1)])])])])]))),128))]),_:1})):(o(),a("div",Xe,[(o(),a(C,null,U(3,i=>e("div",{key:i,class:"bg-white rounded-lg shadow overflow-hidden animate-pulse skeleton-fade"},[e("div",Ye,[r[4]||(r[4]=e("div",{class:"h-4 bg-gray-200 rounded w-3/4 mb-4"},null,-1)),r[5]||(r[5]=e("div",{class:"h-4 bg-gray-200 rounded w-1/2 mb-4"},null,-1)),e("div",et,[(o(),a(C,null,U(3,s=>e("div",{key:s,class:"aspect-w-1 aspect-h-1"},r[3]||(r[3]=[e("div",{class:"w-full h-full bg-gray-200 rounded"},null,-1)]))),64))]),r[6]||(r[6]=Z('<div class="flex items-center justify-between" data-v-375a6468><div class="h-4 bg-gray-200 rounded w-1/4" data-v-375a6468></div><div class="h-4 bg-gray-200 rounded w-1/4" data-v-375a6468></div></div><div class="flex items-center justify-between mt-4 pt-4 border-t" data-v-375a6468><div class="h-5 bg-gray-200 rounded w-1/4" data-v-375a6468></div><div class="h-5 bg-gray-200 rounded w-1/4" data-v-375a6468></div></div>',2))])])),64))]))}},st=R(tt,[["__scopeId","data-v-375a6468"]]),lt=f=>B.post("/api/sns/list",{...f}),ot=f=>B.post("/api/sns/publish",{...f}),at=f=>B.post("/api/sns/delete",{...f}),nt={class:"max-w-2xl mx-auto"},rt={class:"bg-white rounded-lg shadow mb-6 relative overflow-hidden",id:"post-creation"},it={key:0,class:"absolute inset-0 bg-gray-200 bg-opacity-50 z-10 flex items-center justify-center"},ut={class:"p-4"},dt={class:"relative"},ct={class:"flex items-center justify-between mt-3"},vt={class:"flex space-x-2"},pt=["disabled"],gt={key:0},mt={key:1,class:"flex items-center"},ft={__name:"index",setup(f){const{list:x,loading:p,refresh:g}=oe(lt);v(!1),v(!1),v([]);const w=v(null),c=v(null),u=v(""),n=v(!1),r=v(""),i=v(!0),s=v([]),b=D(()=>r.value==="image"?"Upload Image":"Upload Video"),h=l=>{r.value=l,n.value=!0},L=(l,t)=>{console.log("upload complete",l);const d=l.map(z=>({url:z,type:t})),$=Array.from(new Set([...s.value,...d].map(JSON.stringify))).map(JSON.parse);s.value=$,console.log("uploadedFiles",s.value),n.value=!1},S=v(!1),y=async()=>{if(S.value)return;S.value=!0;const l=c.value.exportData();console.log("handlePost",l);try{await ot({content:l.text,images:s.value.filter(t=>t.type==="image").map(t=>t.url),videos:s.value.filter(t=>t.type==="video").map(t=>t.url),tags:l.tags}),await g(),u.value="",s.value=[],c.value.clear()}catch(t){console.error("Error posting:",t)}finally{S.value=!1}},m=async l=>{console.log("handleDelete",l),x.value=x.value.filter(t=>t.id!==l),await at({id:l}),await g()},_=l=>{console.log(l),c.value.insertText(l)};return(l,t)=>(o(),a(C,null,[e("div",nt,[e("div",rt,[S.value?(o(),a("div",it,t[7]||(t[7]=[e("svg",{class:"animate-spin h-10 w-10 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):k("",!0),e("div",ut,[e("div",dt,[V(ue,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=d=>u.value=d),ref_key:"tagInputRef",ref:c},null,8,["modelValue"])]),e("div",ct,[e("div",vt,[e("button",{onClick:t[1]||(t[1]=d=>h("image")),class:"text-blue-500 hover:bg-blue-100 p-2 rounded-full"},t[8]||(t[8]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])),e("button",{onClick:t[2]||(t[2]=d=>h("video")),class:"text-blue-500 hover:bg-blue-100 p-2 rounded-full"},t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)])),t[10]||(t[10]=e("button",{class:"text-blue-500 hover:bg-blue-100 p-2 rounded-full"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})])],-1)),V(ge,{onSelect:_})]),e("button",{onClick:y,disabled:S.value,class:"bg-blue-500 text-white px-4 py-2 rounded-full hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center"},[S.value?(o(),a("span",mt,t[11]||(t[11]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),X(" Posting... ")]))):(o(),a("span",gt,"Post"))],8,pt)]),V(Te,{files:s.value,"onUpdate:files":t[3]||(t[3]=d=>s.value=d)},null,8,["files"])])]),V(st,{posts:F(x),onDelete:m},null,8,["posts"])]),i.value?(o(),T(ee,{key:1,visible:n.value,"onUpdate:visible":t[5]||(t[5]=d=>n.value=d),title:b.value,okText:"开始上传",onOk:t[6]||(t[6]=d=>w.value.doUpload())},{default:j(()=>[V(N,{type:r.value,ref_key:"uploadContentRef",ref:w,onComplete:L},null,8,["type"])]),_:1},8,["visible","title"])):(o(),T(Y,{key:0,modelValue:n.value,"onUpdate:modelValue":t[4]||(t[4]=d=>n.value=d),title:b.value},{default:j(()=>[V(N,{type:r.value},null,8,["type"])]),_:1},8,["modelValue","title"]))],64))}},bt=R(ft,[["__scopeId","data-v-31067387"]]);export{bt as default};
