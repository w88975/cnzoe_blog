import{c as M}from"./blog-CMp7WyHK.js";import{i as N}from"./index-CrRbIKnp.js";import{l as a,m as S,b as g,j as o,w as u,a as f,r as l,o as v,k as V,F as T,p as E,B as p,c as h,G as C}from"./index-6XX0JJxk.js";const D=()=>N.get("/api/category/list/TAG"),U={class:"lg:hidden"},A={__name:"MDEditor",setup(j){const i=a(null),r=a(""),d=a(""),m=a(!1),c=a([]),s=a([]);S(()=>{m.value=!0,D().then(n=>{c.value=n.data.data,m.value=!1})});const x=()=>{if(!i.value.text)return p.error("No Markdown content");if(!r.value)return p.error("No title");if(!s.value.length)return p.error("No tag");i.value.save()},k=(n,e)=>{console.log(n,e),M({title:r.value,value:e,tags:s.value.join(","),category_id:1,thumbnail:"",extra:n})};return(n,e)=>{const b=l("a-button"),y=l("TitleLine"),w=l("a-input"),B=l("a-option"),L=l("a-select"),_=l("v-md-editor");return v(),g("div",null,[o(y,{title:"Markdown Editor"},{right:u(()=>[o(b,{type:"primary",onClick:x},{default:u(()=>e[3]||(e[3]=[V("Save / Create")])),_:1})]),_:1}),o(w,{size:"mini",type:"text",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=t=>r.value=t),placeholder:"Title",class:"w-full p-2 mb-4"},null,8,["modelValue"]),o(L,{class:"mb-4",loading:m.value,multiple:"",modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=t=>s.value=t),placeholder:"Select a tag"},{default:u(()=>[(v(!0),g(T,null,E(c.value,t=>(v(),h(B,{key:t.id,value:t.id},{default:u(()=>[V(C(t.name),1)]),_:2},1032,["value"]))),128))]),_:1},8,["loading","modelValue"]),o(_,{ref_key:"mdEditor",ref:i,modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=t=>d.value=t),height:"800px",onSave:k},null,8,["modelValue"]),f("div",U,[e[4]||(e[4]=f("h1",{class:"text-2xl font-bold mb-4 mt-4"},"Preview",-1)),o(_,{"model-value":d.value,mode:"preview"},null,8,["model-value"])])])}}};export{A as default};
